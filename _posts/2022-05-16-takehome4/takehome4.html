<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { color: #00769e; background-color: #f1f3f5; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #00769e; } /* Normal */
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #657422; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #00769e; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #00769e; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #00769e; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
  <title>Take-home Exercise 4</title>

  <meta property="description" itemprop="description" content="Putting Visual Analytics into Practical Use: &#10;VAST Challenge 2022, Challenge 2: Patterns of Life."/>


  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2022-05-22"/>
  <meta property="article:created" itemprop="dateCreated" content="2022-05-22"/>
  <meta name="article:author" content="Leslie Long Nu"/>

  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="Take-home Exercise 4"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="Putting Visual Analytics into Practical Use: &#10;VAST Challenge 2022, Challenge 2: Patterns of Life."/>
  <meta property="og:locale" content="en_US"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="Take-home Exercise 4"/>
  <meta property="twitter:description" content="Putting Visual Analytics into Practical Use: &#10;VAST Challenge 2022, Challenge 2: Patterns of Life."/>

  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","categories","description","author","date","preview","output"]}},"value":[{"type":"character","attributes":{},"value":["Take-home Exercise 4"]},{"type":"character","attributes":{},"value":["Take-home Exercise"]},{"type":"character","attributes":{},"value":["Putting Visual Analytics into Practical Use: \nVAST Challenge 2022, Challenge 2: Patterns of Life. \n"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url","affiliation","affiliation_url"]}},"value":[{"type":"character","attributes":{},"value":["Leslie Long Nu"]},{"type":"character","attributes":{},"value":["https://www.linkedin.com/in/leslielongnu/"]},{"type":"character","attributes":{},"value":["SMU, MITB"]},{"type":"character","attributes":{},"value":["https://scis.smu.edu.sg/master-it-business"]}]}]},{"type":"character","attributes":{},"value":["2022-05-22"]},{"type":"NULL"},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["code_folding","self_contained","toc","toc_depth"]}},"value":[{"type":"character","attributes":{},"value":["show"]},{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]},{"type":"integer","attributes":{},"value":[3]}]}]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["data/logs_14.rds","data/logs_21.rds","data/Participants.csv","takehome4_files/anchor-4.2.2/anchor.min.js","takehome4_files/bowser-1.9.3/bowser.min.js","takehome4_files/distill-2.2.21/template.v2.js","takehome4_files/figure-html5/both with title-1.png","takehome4_files/figure-html5/both1-1.png","takehome4_files/figure-html5/default-1.png","takehome4_files/figure-html5/default-2.png","takehome4_files/figure-html5/unnamed-chunk-1-1.png","takehome4_files/figure-html5/visibook plot14-1.png","takehome4_files/figure-html5/visibook plot14-2.png","takehome4_files/figure-html5/visibook plot21-1.png","takehome4_files/figure-html5/visibook plot21-2.png","takehome4_files/figure-html5/with title 14-1.png","takehome4_files/figure-html5/with title 21-1.png","takehome4_files/header-attrs-2.13.7/header-attrs.js","takehome4_files/jquery-3.6.0/jquery-3.6.0.js","takehome4_files/jquery-3.6.0/jquery-3.6.0.min.js","takehome4_files/jquery-3.6.0/jquery-3.6.0.min.map","takehome4_files/popper-2.6.0/popper.min.js","takehome4_files/tippy-6.2.7/tippy-bundle.umd.min.js","takehome4_files/tippy-6.2.7/tippy-light-border.css","takehome4_files/tippy-6.2.7/tippy.css","takehome4_files/tippy-6.2.7/tippy.umd.min.js","takehome4_files/webcomponents-2.0.0/webcomponents.js"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure img {
    width: 100%;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme
    $('code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        if ($(this).children()[0].nodeName == "D-FOOTNOTE") {
          var fn = $(this).children()[0]
          $(this).html(fn.shadowRoot.querySelector("sup"))
          $(this).id = fn.id
          fn.remove()
        }
        var refs = $(this).attr('data-cites').split(" ");
        var refHtml = refs.map(function(ref) {
          return "<p>" + $('#ref-' + ref).html() + "</p>";
        }).join("\n");
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="takehome4_files/header-attrs-2.13.7/header-attrs.js"></script>
  <script src="takehome4_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <script src="takehome4_files/popper-2.6.0/popper.min.js"></script>
  <link href="takehome4_files/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="takehome4_files/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="takehome4_files/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="takehome4_files/anchor-4.2.2/anchor.min.js"></script>
  <script src="takehome4_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="takehome4_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="takehome4_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Take-home Exercise 4","description":"Putting Visual Analytics into Practical Use: \nVAST Challenge 2022, Challenge 2: Patterns of Life.","authors":[{"author":"Leslie Long Nu","authorURL":"https://www.linkedin.com/in/leslielongnu/","affiliation":"SMU, MITB","affiliationURL":"https://scis.smu.edu.sg/master-it-business","orcidID":""}],"publishedDate":"2022-05-22T00:00:00.000+08:00","citationText":"Nu, 2022"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Take-home Exercise 4</h1>
<!--radix_placeholder_categories-->
<div class="dt-tags">
<div class="dt-tag">Take-home Exercise</div>
</div>
<!--/radix_placeholder_categories-->
<p><p>Putting Visual Analytics into Practical Use: VAST Challenge 2022,
Challenge 2: Patterns of Life.</p></p>
</div>

<div class="d-byline">
  Leslie Long Nu <a href="https://www.linkedin.com/in/leslielongnu/"
class="uri">https://www.linkedin.com/in/leslielongnu/</a> (SMU, MITB)<a
href="https://scis.smu.edu.sg/master-it-business"
class="uri">https://scis.smu.edu.sg/master-it-business</a>
  
<br/>2022-05-22
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#overview">1. Overview</a>
<ul>
<li><a href="#introduction">1.1 Introduction</a></li>
<li><a href="#methodology">1.2 Methodology</a></li>
</ul></li>
<li><a href="#data-preparation">2. Data Preparation</a>
<ul>
<li><a href="#install-and-load-packages">2.1 Install and Load
Packages</a></li>
<li><a href="#import-raw-datasets">2.2 Import Raw Datasets</a></li>
<li><a href="#data-wrangling">2.3 Data Wrangling</a>
<ul>
<li><a href="#locate-target-participants">Locate Target
Participants</a></li>
<li><a href="#extract-relevant-subsets">Extract Relevant
Subsets</a></li>
<li><a href="#overview-of-data">Overview of Data</a></li>
<li><a href="#deriving-activity-labels">Deriving Activity
Labels</a></li>
</ul></li>
</ul></li>
<li><a href="#visualizations-and-insights">3. Visualizations and
Insights</a>
<ul>
<li><a href="#ploting-default-visielse">3.1 Ploting Default
ViSiElSe</a></li>
<li><a href="#visibook">3.2 ViSibook</a></li>
<li><a href="#visielse-with-long-activities">ViSiElSe with Long
Activities</a></li>
<li><a href="#combine-both-routines">3.3 Combine Both Routines</a></li>
<li><a href="#insights">Insights</a></li>
</ul></li>
<li><a href="#learning-points">4. Learning Points</a></li>
</ul>
</nav>
</div>
<h1 id="overview">1. Overview</h1>
<h2 id="introduction">1.1 Introduction</h2>
<p>With reference to Challenge 2 Question 3 of <a
href="https://vast-challenge.github.io/2022/">VAST Challenge 2022</a>,
this take-home exercise will reveal the daily routines of
<strong>two</strong> selected participants of the city of Engagement,
Ohio USA. <a
href="https://rdrr.io/cran/ViSiElse/man/"><code>ViSiElSe</code></a> and
other appropriate visual analytics R packages will be used.</p>
<p><em>Challenge 2: Patterns of Life, Question 3</em></p>
<p><em>Participants have given permission to have their daily routines
captured. Choose two different participants with different routines and
describe their daily patterns, with supporting evidence.</em></p>
<h2 id="methodology">1.2 Methodology</h2>
<p>As VAST challenge datasets include participants’ daily routine logs
spanning for 15 months, given the time limit (1 week) of this take-home
exercise, the scope of this take-home exercise is scaled down to focus
on specific areas of participant’s daily life routine:</p>
<ul>
<li>The two participants are selected by choosing one participant from
low education level and another from graduate education level. This
take-home exercise is interested to find out how their daily life
routines differ.</li>
<li>This take-home exercise will look at their daily life routines based
on the first day of the study, Mar 1 2022, a weekday, to examine the
difference.</li>
<li>The status log data will be cleaned to fit ViSiElSe format and life
routines will be plotted accordingly.</li>
</ul>
<h1 id="data-preparation">2. Data Preparation</h1>
<h2 id="install-and-load-packages">2.1 Install and Load Packages</h2>
<p>The following code chunk installs the required R packages and loads
them onto RStudio environment.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
show
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>packages</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'scales'</span>, <span class='st'>'viridis'</span>, <span class='st'>'lubridate'</span>, <span class='st'>'ggthemes'</span>, 
             <span class='st'>'gridExtra'</span>, <span class='st'>'tidyverse'</span>, <span class='st'>'readxl'</span>, <span class='st'>'knitr'</span>,
             <span class='st'>'data.table'</span>, <span class='st'>'ViSiElse'</span>, <span class='st'>'patchwork'</span><span class='op'>)</span>
<span class='kw'>for</span> <span class='op'>(</span><span class='va'>p</span> <span class='kw'>in</span> <span class='va'>packages</span><span class='op'>)</span><span class='op'>{</span>
  <span class='kw'>if</span><span class='op'>(</span><span class='op'>!</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='va'>p</span>, character.only <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>
    <span class='fu'><a href='https://rdrr.io/r/utils/install.packages.html'>install.packages</a></span><span class='op'>(</span><span class='va'>p</span><span class='op'>)</span>
  <span class='op'>}</span>
  <span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>p</span>,character.only <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span>
<span class='op'>}</span>
</code></pre>
</div>
</details>
</div>
<h2 id="import-raw-datasets">2.2 Import Raw Datasets</h2>
<p>Relevant datasets are imported using <code>read_csv()</code> of readr
package, which is useful for reading delimited files into tibbles.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
show
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>participants</span> <span class='op'>&lt;-</span> <span class='fu'>read_csv</span><span class='op'>(</span><span class='st'>'data/Participants.csv'</span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
show
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>logs1</span> <span class='op'>&lt;-</span> <span class='fu'>read_csv</span><span class='op'>(</span><span class='st'>'rawdata/ParticipantStatusLogs1.csv'</span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<h2 id="data-wrangling">2.3 Data Wrangling</h2>
<h3 id="locate-target-participants">Locate Target Participants</h3>
<p>The following code chunk is used to extract participants with
educations levels of <em>low</em> and <em>graduate</em> to locate our
target participants.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
show
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>low</span> <span class='op'>&lt;-</span> <span class='va'>participants</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>educationLevel</span> <span class='op'>==</span> <span class='st'>'Low'</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>low</span>, <span class='fl'>5</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<pre><code># A tibble: 5 × 7
  participantId householdSize haveKids   age educationLevel
          &lt;dbl&gt;         &lt;dbl&gt; &lt;lgl&gt;    &lt;dbl&gt; &lt;chr&gt;         
1            21             3 TRUE        35 Low           
2            23             3 TRUE        57 Low           
3            29             3 TRUE        18 Low           
4            34             3 TRUE        23 Low           
5            35             3 TRUE        20 Low           
# … with 2 more variables: interestGroup &lt;chr&gt;, joviality &lt;dbl&gt;</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
show
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>graduate</span> <span class='op'>&lt;-</span> <span class='va'>participants</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>educationLevel</span> <span class='op'>==</span> <span class='st'>'Graduate'</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>graduate</span>, <span class='fl'>5</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<pre><code># A tibble: 5 × 7
  participantId householdSize haveKids   age educationLevel
          &lt;dbl&gt;         &lt;dbl&gt; &lt;lgl&gt;    &lt;dbl&gt; &lt;chr&gt;         
1            14             3 TRUE        38 Graduate      
2            18             3 TRUE        20 Graduate      
3            31             3 TRUE        40 Graduate      
4            36             3 TRUE        41 Graduate      
5            45             3 TRUE        50 Graduate      
# … with 2 more variables: interestGroup &lt;chr&gt;, joviality &lt;dbl&gt;</code></pre>
</div>
<p>Given the two data table of different educational levels, the
following two participants are chosen:</p>
<ul>
<li><strong>Participant Id 21</strong>: household size 3, have kids, age
35, low education level, interest group E and joviality index of
0.931.</li>
<li><strong>Participant Id 14</strong>: household size 3, have kids, age
38, graduate education level, interest group H and joviality index of
0.930.</li>
</ul>
<p>This exercise is interested to find out how these two participants’
daily routine varies due to different education levels, as they have
otherwise very similar demographic.</p>
<h3 id="extract-relevant-subsets">Extract Relevant Subsets</h3>
<p>The following code chunk extracts participant id 21 &amp; 14’s daily
life routine on Mar 1, 2022.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
show
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># participant id 21:</span>
<span class='va'>logs_21</span> <span class='op'>&lt;-</span> <span class='va'>logs1</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>date <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/date.html'>date</a></span><span class='op'>(</span><span class='va'>timestamp</span><span class='op'>)</span>,
         time <span class='op'>=</span> <span class='op'>(</span><span class='fu'>hour</span><span class='op'>(</span><span class='va'>timestamp</span><span class='op'>)</span><span class='op'>*</span><span class='fl'>60</span><span class='op'>+</span><span class='fu'>minute</span><span class='op'>(</span><span class='va'>timestamp</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>participantId</span><span class='op'>==</span> <span class='fl'>21</span>,
         <span class='va'>date</span> <span class='op'>==</span> <span class='st'>'2022-03-01'</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>select</span><span class='op'>(</span><span class='va'>participantId</span>, <span class='va'>date</span>, <span class='va'>time</span>, <span class='va'>currentMode</span><span class='op'>:</span><span class='va'>sleepStatus</span>, <span class='va'>timestamp</span><span class='op'>)</span>

<span class='co'># participant id 14:</span>
<span class='va'>logs_14</span> <span class='op'>&lt;-</span> <span class='va'>logs1</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>date <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/date.html'>date</a></span><span class='op'>(</span><span class='va'>timestamp</span><span class='op'>)</span>,
         time <span class='op'>=</span> <span class='op'>(</span><span class='fu'>hour</span><span class='op'>(</span><span class='va'>timestamp</span><span class='op'>)</span><span class='op'>*</span><span class='fl'>60</span><span class='op'>+</span><span class='fu'>minute</span><span class='op'>(</span><span class='va'>timestamp</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>participantId</span><span class='op'>==</span> <span class='fl'>14</span>,
         <span class='va'>date</span> <span class='op'>==</span> <span class='st'>'2022-03-01'</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>select</span><span class='op'>(</span><span class='va'>participantId</span>, <span class='va'>date</span>, <span class='va'>time</span>, <span class='va'>currentMode</span><span class='op'>:</span><span class='va'>sleepStatus</span>, <span class='va'>timestamp</span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<p>The following code chunk saves the two logs into RDS format and read
as RDS to avoid uploading large files onto GitHub.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
show
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/readRDS.html'>saveRDS</a></span><span class='op'>(</span><span class='va'>logs_21</span>, <span class='st'>'data/logs_21.rds'</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/readRDS.html'>saveRDS</a></span><span class='op'>(</span><span class='va'>logs_14</span>, <span class='st'>'data/logs_14.rds'</span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
show
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>logs_21</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/readRDS.html'>readRDS</a></span><span class='op'>(</span><span class='st'>'data/logs_21.rds'</span><span class='op'>)</span>
<span class='va'>logs_14</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/readRDS.html'>readRDS</a></span><span class='op'>(</span><span class='st'>'data/logs_14.rds'</span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<h3 id="overview-of-data">Overview of Data</h3>
<p>The following code chunk allows us to have an overview of the two
status logs.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
show
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>logs_21</span>, <span class='fl'>10</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<pre><code># A tibble: 10 × 7
   participantId date        time currentMode hungerStatus sleepStatus
           &lt;dbl&gt; &lt;date&gt;     &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;        &lt;chr&gt;      
 1            21 2022-03-01     0 AtHome      JustAte      Awake      
 2            21 2022-03-01     5 AtHome      JustAte      Awake      
 3            21 2022-03-01    10 AtHome      JustAte      Awake      
 4            21 2022-03-01    15 AtHome      JustAte      Awake      
 5            21 2022-03-01    20 AtHome      JustAte      Awake      
 6            21 2022-03-01    25 AtHome      JustAte      Awake      
 7            21 2022-03-01    30 AtHome      JustAte      Sleeping   
 8            21 2022-03-01    35 AtHome      JustAte      Sleeping   
 9            21 2022-03-01    40 AtHome      JustAte      Sleeping   
10            21 2022-03-01    45 AtHome      JustAte      Sleeping   
# … with 1 more variable: timestamp &lt;dttm&gt;</code></pre>
<details>
<summary>
show
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>logs_14</span>, <span class='fl'>10</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<pre><code># A tibble: 10 × 7
   participantId date        time currentMode hungerStatus sleepStatus
           &lt;dbl&gt; &lt;date&gt;     &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;        &lt;chr&gt;      
 1            14 2022-03-01     0 AtHome      JustAte      Awake      
 2            14 2022-03-01     5 AtHome      JustAte      Awake      
 3            14 2022-03-01    10 AtHome      JustAte      Sleeping   
 4            14 2022-03-01    15 AtHome      JustAte      Sleeping   
 5            14 2022-03-01    20 AtHome      JustAte      Sleeping   
 6            14 2022-03-01    25 AtHome      JustAte      Sleeping   
 7            14 2022-03-01    30 AtHome      JustAte      Sleeping   
 8            14 2022-03-01    35 AtHome      JustAte      Sleeping   
 9            14 2022-03-01    40 AtHome      JustAte      Sleeping   
10            14 2022-03-01    45 AtHome      BecameFull   Sleeping   
# … with 1 more variable: timestamp &lt;dttm&gt;</code></pre>
</div>
<p>From the overview we can tell that some of the values are not
reliable as both participants are <em>just ate</em> while they are
<em>sleeping</em>.</p>
<p>The following code chunk aims to examine the various activities
recorded in the status log using <code>unique()</code>.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
show
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/unique.html'>unique</a></span><span class='op'>(</span><span class='va'>logs_21</span><span class='op'>$</span><span class='va'>currentMode</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<pre><code>[1] &quot;AtHome&quot;       &quot;Transport&quot;    &quot;AtWork&quot;       &quot;AtRestaurant&quot;
[5] &quot;AtRecreation&quot;</code></pre>
<details>
<summary>
show
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/unique.html'>unique</a></span><span class='op'>(</span><span class='va'>logs_21</span><span class='op'>$</span><span class='va'>hungerStatus</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<pre><code>[1] &quot;JustAte&quot;        &quot;BecameFull&quot;     &quot;BecomingHungry&quot;
[4] &quot;Hungry&quot;        </code></pre>
<details>
<summary>
show
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/unique.html'>unique</a></span><span class='op'>(</span><span class='va'>logs_21</span><span class='op'>$</span><span class='va'>sleepStatus</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<pre><code>[1] &quot;Awake&quot;    &quot;Sleeping&quot;</code></pre>
</div>
<p>The following meaningful activities will be tracked based on the
status log:</p>
<ul>
<li>Start work, end work, at restaurant, leave restaurant, start
recreation, end recreation from <em>current mode</em>;</li>
<li>Start sleep, stop sleep from <em>sleep status</em>;</li>
</ul>
<p>Hunger status column is not used for several reasons here. Firstly,
the labels indicate participant’s hunger feelings instead of what they
did at the time, therefore, it is challenging to determine their meal
times based on this column. For example, both <em>just ate</em> and
<em>became full</em> could be interpreted as during meal or just
finished meal. Secondly, the values in this column are unreliable as it
is found that both participants recorded <em>just ate</em> during their
sleep. Therefore, this take-home exercise did not use hunger status to
reflect participant’s daily life routine.</p>
<h3 id="deriving-activity-labels">Deriving Activity Labels</h3>
<p>The following code chunk is used to label the activity status with
numbers and focus on the activities we intend to track.
<code>cumsum()</code> is used to label only the tracked activities by
giving them the same number label, while the other activities are labels
as the accumulative sum. For example, to track <em>sleeping</em>, all
other status in <em>sleep mode</em> are given incremental numbers while
it stays the same for <em>sleeping</em>. The same is applied for all the
tracked activities.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
show
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># mark number labels for each activity</span>
<span class='co'># if there is no change in status: number label increase by 1</span>
<span class='co'># if there is change in status: number label stays the same</span>
<span class='va'>logs_21num</span> <span class='op'>&lt;-</span> <span class='va'>logs_21</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>work<span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/cumsum.html'>cumsum</a></span><span class='op'>(</span><span class='va'>currentMode</span> <span class='op'>!=</span> <span class='st'>'AtWork'</span><span class='op'>)</span>,
         restaurant<span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/cumsum.html'>cumsum</a></span><span class='op'>(</span><span class='va'>currentMode</span> <span class='op'>!=</span> <span class='st'>'AtRestaurant'</span><span class='op'>)</span>,
         recreation<span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/cumsum.html'>cumsum</a></span><span class='op'>(</span><span class='va'>currentMode</span> <span class='op'>!=</span> <span class='st'>'AtRecreation'</span><span class='op'>)</span>,
         sleep <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/cumsum.html'>cumsum</a></span><span class='op'>(</span><span class='va'>sleepStatus</span> <span class='op'>!=</span> <span class='st'>'Sleeping'</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<p>The following code chunk is used to match number labels to <em>start
…</em> and <em>stop …</em> labels, for the first and last record of the
tracked activities. For example, when the sleep status changed from
<em>awake</em> to <em>sleeping</em> (when the number label stops
increasing), the first <em>sleeping</em> status is marked as <em>start
sleep</em>, and the last <em>sleeping</em> is marked as <em>stop
sleep</em>.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
show
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># create 'start...' and 'stop...' labels based on the number labels</span>
<span class='va'>logs_21label</span> <span class='op'>&lt;-</span> <span class='va'>logs_21num</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>wlabel<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>work</span><span class='op'>!=</span><span class='fu'><a href='https://rdrr.io/r/stats/lag.html'>lag</a></span><span class='op'>(</span><span class='va'>work</span>, default<span class='op'>=</span><span class='fl'>0</span><span class='op'>)</span>, <span class='st'>'NA'</span>,
                       <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>work</span><span class='op'>!=</span><span class='fu'>lead</span><span class='op'>(</span><span class='va'>work</span>, default<span class='op'>=</span><span class='fl'>0</span><span class='op'>)</span>,
                               <span class='st'>'Stop Work'</span>, <span class='st'>'Start Work'</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>,
         wlabelf<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>wlabel</span><span class='op'>==</span><span class='fu'><a href='https://rdrr.io/r/stats/lag.html'>lag</a></span><span class='op'>(</span><span class='va'>wlabel</span>, default<span class='op'>=</span><span class='st'>'NA'</span><span class='op'>)</span><span class='op'>|</span><span class='va'>wlabel</span><span class='op'>==</span><span class='st'>'NA'</span>,
                                 <span class='cn'>NA</span>, <span class='va'>wlabel</span><span class='op'>)</span>,
         rtlabel<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>restaurant</span><span class='op'>!=</span><span class='fu'><a href='https://rdrr.io/r/stats/lag.html'>lag</a></span><span class='op'>(</span><span class='va'>restaurant</span>, default<span class='op'>=</span><span class='fl'>0</span><span class='op'>)</span>, <span class='st'>'NA'</span>,
                       <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>restaurant</span><span class='op'>!=</span><span class='fu'>lead</span><span class='op'>(</span><span class='va'>restaurant</span>, default<span class='op'>=</span><span class='fl'>0</span><span class='op'>)</span>,
                               <span class='st'>'Leave Restaurant'</span>, <span class='st'>'At Restaurant'</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>,
         rtlabelf<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>rtlabel</span><span class='op'>==</span><span class='fu'><a href='https://rdrr.io/r/stats/lag.html'>lag</a></span><span class='op'>(</span><span class='va'>rtlabel</span>, default<span class='op'>=</span><span class='st'>'NA'</span><span class='op'>)</span><span class='op'>|</span><span class='va'>rtlabel</span><span class='op'>==</span><span class='st'>'NA'</span>,
                                 <span class='cn'>NA</span>, <span class='va'>rtlabel</span><span class='op'>)</span>,
         rnlabel<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>recreation</span><span class='op'>!=</span><span class='fu'><a href='https://rdrr.io/r/stats/lag.html'>lag</a></span><span class='op'>(</span><span class='va'>recreation</span>, default<span class='op'>=</span><span class='fl'>0</span><span class='op'>)</span>, <span class='st'>'NA'</span>,
                       <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>recreation</span><span class='op'>!=</span><span class='fu'>lead</span><span class='op'>(</span><span class='va'>recreation</span>, default<span class='op'>=</span><span class='fl'>0</span><span class='op'>)</span>,
                               <span class='st'>'Stop Recreation'</span>, <span class='st'>'Start Recreation'</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>,
         rnlabelf<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>rnlabel</span><span class='op'>==</span><span class='fu'><a href='https://rdrr.io/r/stats/lag.html'>lag</a></span><span class='op'>(</span><span class='va'>rnlabel</span>, default<span class='op'>=</span><span class='st'>'NA'</span><span class='op'>)</span><span class='op'>|</span><span class='va'>rnlabel</span><span class='op'>==</span><span class='st'>'NA'</span>,
                                 <span class='cn'>NA</span>, <span class='va'>rnlabel</span><span class='op'>)</span>,
         slabel<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>sleep</span><span class='op'>!=</span><span class='fu'><a href='https://rdrr.io/r/stats/lag.html'>lag</a></span><span class='op'>(</span><span class='va'>sleep</span>, default<span class='op'>=</span><span class='fl'>0</span><span class='op'>)</span>, <span class='st'>'NA'</span>,
                       <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>sleep</span><span class='op'>!=</span><span class='fu'>lead</span><span class='op'>(</span><span class='va'>sleep</span>, default<span class='op'>=</span><span class='fl'>0</span><span class='op'>)</span>,
                               <span class='st'>'Stop Sleep'</span>, <span class='st'>'Start Sleep'</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>,
         slabelf<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>slabel</span><span class='op'>==</span><span class='fu'><a href='https://rdrr.io/r/stats/lag.html'>lag</a></span><span class='op'>(</span><span class='va'>slabel</span>, default<span class='op'>=</span><span class='st'>'NA'</span><span class='op'>)</span><span class='op'>|</span><span class='va'>slabel</span><span class='op'>==</span><span class='st'>'NA'</span>,
                                 <span class='cn'>NA</span>, <span class='va'>slabel</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<p>Lastly, the derived dataset is cleaned and transposed to fit into
VisiElSe format.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
show
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># extract relevant status </span>
<span class='va'>logs_21f</span> <span class='op'>&lt;-</span> <span class='va'>logs_21label</span> <span class='op'>%&gt;%</span>
  <span class='fu'>select</span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span>, <span class='va'>wlabelf</span>, <span class='va'>rtlabelf</span>, <span class='va'>rnlabelf</span>, <span class='va'>slabelf</span><span class='op'>)</span>

<span class='co'># derive final status </span>
<span class='va'>logs_21ff</span> <span class='op'>&lt;-</span> <span class='va'>logs_21f</span> <span class='op'>%&gt;%</span>
  <span class='fu'>unite</span><span class='op'>(</span><span class='st'>"final"</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>wlabelf</span>, <span class='va'>rtlabelf</span>, <span class='va'>rnlabelf</span>, <span class='va'>slabelf</span><span class='op'>)</span>, sep<span class='op'>=</span><span class='st'>""</span>, 
        remove <span class='op'>=</span> <span class='cn'>TRUE</span>, na.rm <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>select</span><span class='op'>(</span><span class='fl'>4</span>, <span class='fl'>3</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate_all</span><span class='op'>(</span><span class='va'>na_if</span>,<span class='st'>""</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>drop_na</span><span class='op'>(</span><span class='va'>final</span><span class='op'>)</span> 

<span class='co'># transpose logs_21f into ViSiElSe data template</span>
<span class='va'>log_21f</span> <span class='op'>&lt;-</span> <span class='fu'>transpose</span><span class='op'>(</span><span class='va'>logs_21ff</span><span class='op'>[</span>,<span class='op'>-</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span><span class='op'>(</span><span class='va'>log_21f</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='va'>logs_21ff</span><span class='op'>$</span><span class='va'>final</span>

<span class='co'># add id column </span>
<span class='va'>log_21f</span> <span class='op'>&lt;-</span> <span class='fu'>rowid_to_column</span><span class='op'>(</span><span class='va'>log_21f</span>, <span class='st'>'id'</span> <span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<p>The following code chunk applies the same procedures to prepare the
data for participant 14’s daily routine.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
show
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># mark number labels for each activity</span>
<span class='co'># if there is no change in status: number label increase by 1</span>
<span class='co'># if there is change in status: number label stays the same</span>
<span class='va'>logs_14num</span> <span class='op'>&lt;-</span> <span class='va'>logs_14</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>work<span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/cumsum.html'>cumsum</a></span><span class='op'>(</span><span class='va'>currentMode</span> <span class='op'>!=</span> <span class='st'>'AtWork'</span><span class='op'>)</span>,
         restaurant<span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/cumsum.html'>cumsum</a></span><span class='op'>(</span><span class='va'>currentMode</span> <span class='op'>!=</span> <span class='st'>'AtRestaurant'</span><span class='op'>)</span>,
         recreation<span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/cumsum.html'>cumsum</a></span><span class='op'>(</span><span class='va'>currentMode</span> <span class='op'>!=</span> <span class='st'>'AtRecreation'</span><span class='op'>)</span>,
         sleep <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/cumsum.html'>cumsum</a></span><span class='op'>(</span><span class='va'>sleepStatus</span> <span class='op'>!=</span> <span class='st'>'Sleeping'</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># create 'start...' and 'stop...' labels based on the number labels</span>
<span class='va'>logs_14label</span> <span class='op'>&lt;-</span> <span class='va'>logs_14num</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>wlabel<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>work</span><span class='op'>!=</span><span class='fu'><a href='https://rdrr.io/r/stats/lag.html'>lag</a></span><span class='op'>(</span><span class='va'>work</span>, default<span class='op'>=</span><span class='fl'>0</span><span class='op'>)</span>, <span class='st'>'NA'</span>,
                       <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>work</span><span class='op'>!=</span><span class='fu'>lead</span><span class='op'>(</span><span class='va'>work</span>, default<span class='op'>=</span><span class='fl'>0</span><span class='op'>)</span>,
                               <span class='st'>'Stop Work'</span>, <span class='st'>'Start Work'</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>,
         wlabelf<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>wlabel</span><span class='op'>==</span><span class='fu'><a href='https://rdrr.io/r/stats/lag.html'>lag</a></span><span class='op'>(</span><span class='va'>wlabel</span>, default<span class='op'>=</span><span class='st'>'NA'</span><span class='op'>)</span><span class='op'>|</span><span class='va'>wlabel</span><span class='op'>==</span><span class='st'>'NA'</span>,
                                 <span class='cn'>NA</span>, <span class='va'>wlabel</span><span class='op'>)</span>,
         rtlabel<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>restaurant</span><span class='op'>!=</span><span class='fu'><a href='https://rdrr.io/r/stats/lag.html'>lag</a></span><span class='op'>(</span><span class='va'>restaurant</span>, default<span class='op'>=</span><span class='fl'>0</span><span class='op'>)</span>, <span class='st'>'NA'</span>,
                       <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>restaurant</span><span class='op'>!=</span><span class='fu'>lead</span><span class='op'>(</span><span class='va'>restaurant</span>, default<span class='op'>=</span><span class='fl'>0</span><span class='op'>)</span>,
                               <span class='st'>'Leave Restaurant'</span>, <span class='st'>'At Restaurant'</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>,
         rtlabelf<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>rtlabel</span><span class='op'>==</span><span class='fu'><a href='https://rdrr.io/r/stats/lag.html'>lag</a></span><span class='op'>(</span><span class='va'>rtlabel</span>, default<span class='op'>=</span><span class='st'>'NA'</span><span class='op'>)</span><span class='op'>|</span><span class='va'>rtlabel</span><span class='op'>==</span><span class='st'>'NA'</span>,
                                 <span class='cn'>NA</span>, <span class='va'>rtlabel</span><span class='op'>)</span>,
         rnlabel<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>recreation</span><span class='op'>!=</span><span class='fu'><a href='https://rdrr.io/r/stats/lag.html'>lag</a></span><span class='op'>(</span><span class='va'>recreation</span>, default<span class='op'>=</span><span class='fl'>0</span><span class='op'>)</span>, <span class='st'>'NA'</span>,
                       <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>recreation</span><span class='op'>!=</span><span class='fu'>lead</span><span class='op'>(</span><span class='va'>recreation</span>, default<span class='op'>=</span><span class='fl'>0</span><span class='op'>)</span>,
                               <span class='st'>'Stop Recreation'</span>, <span class='st'>'Start Recreation'</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>,
         rnlabelf<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>rnlabel</span><span class='op'>==</span><span class='fu'><a href='https://rdrr.io/r/stats/lag.html'>lag</a></span><span class='op'>(</span><span class='va'>rnlabel</span>, default<span class='op'>=</span><span class='st'>'NA'</span><span class='op'>)</span><span class='op'>|</span><span class='va'>rnlabel</span><span class='op'>==</span><span class='st'>'NA'</span>,
                                 <span class='cn'>NA</span>, <span class='va'>rnlabel</span><span class='op'>)</span>,
         slabel<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>sleep</span><span class='op'>!=</span><span class='fu'><a href='https://rdrr.io/r/stats/lag.html'>lag</a></span><span class='op'>(</span><span class='va'>sleep</span>, default<span class='op'>=</span><span class='fl'>0</span><span class='op'>)</span>, <span class='st'>'NA'</span>,
                       <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>sleep</span><span class='op'>!=</span><span class='fu'>lead</span><span class='op'>(</span><span class='va'>sleep</span>, default<span class='op'>=</span><span class='fl'>0</span><span class='op'>)</span>,
                               <span class='st'>'Stop Sleep'</span>, <span class='st'>'Start Sleep'</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>,
         slabelf<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>slabel</span><span class='op'>==</span><span class='fu'><a href='https://rdrr.io/r/stats/lag.html'>lag</a></span><span class='op'>(</span><span class='va'>slabel</span>, default<span class='op'>=</span><span class='st'>'NA'</span><span class='op'>)</span><span class='op'>|</span><span class='va'>slabel</span><span class='op'>==</span><span class='st'>'NA'</span>,
                                 <span class='cn'>NA</span>, <span class='va'>slabel</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># extract relevant status </span>
<span class='va'>logs_14f</span> <span class='op'>&lt;-</span> <span class='va'>logs_14label</span> <span class='op'>%&gt;%</span>
  <span class='fu'>select</span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span>, <span class='va'>wlabelf</span>, <span class='va'>rtlabelf</span>, <span class='va'>rnlabelf</span>, <span class='va'>slabelf</span><span class='op'>)</span>

<span class='co'># derive final status </span>
<span class='va'>logs_14ff</span> <span class='op'>&lt;-</span> <span class='va'>logs_14f</span> <span class='op'>%&gt;%</span>
  <span class='fu'>unite</span><span class='op'>(</span><span class='st'>"final"</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>wlabelf</span>, <span class='va'>rtlabelf</span>, <span class='va'>rnlabelf</span>, <span class='va'>slabelf</span><span class='op'>)</span>, sep<span class='op'>=</span><span class='st'>""</span>, 
        remove <span class='op'>=</span> <span class='cn'>TRUE</span>, na.rm <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>select</span><span class='op'>(</span><span class='fl'>4</span>, <span class='fl'>3</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate_all</span><span class='op'>(</span><span class='va'>na_if</span>,<span class='st'>""</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>drop_na</span><span class='op'>(</span><span class='va'>final</span><span class='op'>)</span> 

<span class='co'># transpose logs_21f into ViSiElSe data template</span>
<span class='va'>log_14f</span> <span class='op'>&lt;-</span> <span class='fu'>transpose</span><span class='op'>(</span><span class='va'>logs_14ff</span><span class='op'>[</span>,<span class='op'>-</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span><span class='op'>(</span><span class='va'>log_14f</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='va'>logs_14ff</span><span class='op'>$</span><span class='va'>final</span>

<span class='co'># add id column </span>
<span class='va'>log_14f</span> <span class='op'>&lt;-</span> <span class='fu'>rowid_to_column</span><span class='op'>(</span><span class='va'>log_14f</span>, <span class='st'>'id'</span> <span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<h1 id="visualizations-and-insights">3. Visualizations and Insights</h1>
<h2 id="ploting-default-visielse">3.1 Ploting Default ViSiElSe</h2>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
show
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>v1</span> <span class='op'>&lt;-</span> <span class='fu'>visielse</span><span class='op'>(</span><span class='va'>log_21f</span>, informer <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<img src="takehome4_files/figure-html5/default-1.png" width="960" />
<details>
<summary>
show
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>v2</span> <span class='op'>&lt;-</span> <span class='fu'>visielse</span><span class='op'>(</span><span class='va'>log_14f</span>, informer <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="takehome4_files/figure-html5/default-2.png" width="960" /></p>
</div>
<h2 id="visibook">3.2 ViSibook</h2>
<p>The following code chunk changes the labels and add long actions to
the graph.</p>
<ul>
<li>For participant id 21:</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
show
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># for participant 21</span>
<span class='va'>b1</span> <span class='op'>&lt;-</span> <span class='fu'>ConvertFromViSibook</span><span class='op'>(</span><span class='va'>v1</span><span class='op'>@</span><span class='va'>book</span><span class='op'>)</span>

<span class='va'>b1</span> <span class='op'>&lt;-</span> <span class='va'>b1</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/order.html'>order</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='va'>b1</span><span class='op'>$</span><span class='va'>showorder</span><span class='op'>)</span><span class='op'>)</span>, <span class='op'>]</span> 

<span class='co'># label punctual activities </span>
<span class='va'>b1</span><span class='op'>$</span><span class='va'>label</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Start sleep"</span>, <span class='st'>"Stop sleep"</span>,<span class='st'>"Start AM work"</span>, 
              <span class='st'>"Stop AM work"</span>, <span class='st'>"At restaurant"</span>, <span class='st'>"Leave restaurant"</span>, 
              <span class='st'>"Start PM work"</span>, <span class='st'>"Stop PM work"</span>, <span class='st'>"Start recreation1"</span>,
              <span class='st'>"Stop recreation1"</span>, <span class='st'>"Start recreation2"</span>,<span class='st'>"Stop recreation2"</span>, 
              <span class='st'>"Start recreation3"</span>,<span class='st'>"Stop recreation3"</span><span class='op'>)</span>

<span class='co'># label long activities </span>
<span class='va'>b1</span><span class='op'>[</span><span class='fl'>15</span>,<span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"sleep"</span>, <span class='st'>"Sleep"</span>, <span class='st'>"l"</span>, <span class='fl'>1</span>, <span class='st'>"Start Sleep"</span>, <span class='st'>"Stop Sleep"</span><span class='op'>)</span>
<span class='va'>b1</span><span class='op'>[</span><span class='fl'>16</span>,<span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"work1"</span>, <span class='st'>"AM Work"</span>, <span class='st'>"l"</span>, <span class='fl'>2</span>, <span class='st'>"Start Work"</span>, <span class='st'>"Stop Work"</span><span class='op'>)</span>
<span class='va'>b1</span><span class='op'>[</span><span class='fl'>17</span>,<span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"restaurant1"</span>, <span class='st'>"Lunch at Restaurant"</span>, <span class='st'>"l"</span>, <span class='fl'>3</span>, <span class='st'>"At Restaurant"</span>, 
             <span class='st'>"Leave Restaurant"</span><span class='op'>)</span>
<span class='va'>b1</span><span class='op'>[</span><span class='fl'>18</span>,<span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"work2"</span>, <span class='st'>"PM Work"</span>, <span class='st'>"l"</span>, <span class='fl'>4</span>, <span class='st'>"Start Work.1"</span>, <span class='st'>"Stop Work.1"</span><span class='op'>)</span>
<span class='va'>b1</span><span class='op'>[</span><span class='fl'>19</span>,<span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"recreation1"</span>, <span class='st'>"First Recreation"</span>, <span class='st'>"l"</span>, <span class='fl'>5</span>, <span class='st'>"Start Recreation"</span>, 
             <span class='st'>"Stop Recreation"</span><span class='op'>)</span>
<span class='va'>b1</span><span class='op'>[</span><span class='fl'>20</span>,<span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"recreation2"</span>, <span class='st'>"Second Recreation"</span>, <span class='st'>"l"</span>, <span class='fl'>7</span>, <span class='st'>"Start Recreation.1"</span>, 
             <span class='st'>"Stop Recreation.1"</span><span class='op'>)</span>
<span class='va'>b1</span><span class='op'>[</span><span class='fl'>21</span>,<span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"recreation3"</span>, <span class='st'>"Third Recreation"</span>, <span class='st'>"l"</span>, <span class='fl'>8</span>, <span class='st'>"Start Recreation.2"</span>, 
             <span class='st'>"Stop Recreation.2"</span><span class='op'>)</span>
<span class='va'>b1</span><span class='op'>$</span><span class='va'>showorder</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='cn'>NA</span>, <span class='cn'>NA</span>, <span class='cn'>NA</span>, <span class='cn'>NA</span>, <span class='cn'>NA</span>, <span class='cn'>NA</span>, <span class='cn'>NA</span>, <span class='cn'>NA</span>, <span class='cn'>NA</span>, <span class='cn'>NA</span>, <span class='cn'>NA</span>, <span class='cn'>NA</span>, <span class='cn'>NA</span>, <span class='cn'>NA</span>, 
                  <span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>3</span>, <span class='fl'>4</span>, <span class='fl'>5</span>, <span class='fl'>6</span>, <span class='fl'>7</span><span class='op'>)</span> 
<span class='va'>b1</span> <span class='op'>&lt;-</span> <span class='va'>b1</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/order.html'>order</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='va'>b1</span><span class='op'>$</span><span class='va'>showorder</span><span class='op'>)</span><span class='op'>)</span>, <span class='op'>]</span>
</code></pre>
</div>
</details>
</div>
<ul>
<li>For participant id 14:</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
show
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># for participant 14</span>
<span class='va'>b2</span> <span class='op'>&lt;-</span> <span class='fu'>ConvertFromViSibook</span><span class='op'>(</span><span class='va'>v2</span><span class='op'>@</span><span class='va'>book</span><span class='op'>)</span>

<span class='va'>b2</span> <span class='op'>&lt;-</span> <span class='va'>b2</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/order.html'>order</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='va'>b2</span><span class='op'>$</span><span class='va'>showorder</span><span class='op'>)</span><span class='op'>)</span>, <span class='op'>]</span> 

<span class='co'># label punctual activities </span>
<span class='va'>b2</span><span class='op'>$</span><span class='va'>label</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Start sleep"</span>, <span class='st'>"Stop sleep"</span>,<span class='st'>"Start AM work"</span>, 
              <span class='st'>"Stop AM work"</span>, <span class='st'>"At restaurant1"</span>, <span class='st'>"Leave restaurant1"</span>, 
              <span class='st'>"Start PM work"</span>, <span class='st'>"Stop PM work"</span>, <span class='st'>"Start recreation1"</span>,
              <span class='st'>"Stop recreation1"</span>, <span class='st'>"At restaurant2"</span>, <span class='st'>"Leave restaurant2"</span>,
              <span class='st'>"Start recreation2"</span>,<span class='st'>"Stop recreation2"</span>, <span class='st'>"Start recreation3"</span>,
              <span class='st'>"Stop recreation3"</span><span class='op'>)</span>

<span class='co'># label long activities </span>
<span class='va'>b2</span><span class='op'>[</span><span class='fl'>17</span>,<span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"sleep"</span>, <span class='st'>"Sleep"</span>, <span class='st'>"l"</span>, <span class='fl'>1</span>, <span class='st'>"Start Sleep"</span>, <span class='st'>"Stop Sleep"</span><span class='op'>)</span>
<span class='va'>b2</span><span class='op'>[</span><span class='fl'>18</span>,<span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"work1"</span>, <span class='st'>"AM Work"</span>, <span class='st'>"l"</span>, <span class='fl'>2</span>, <span class='st'>"Start Work"</span>, <span class='st'>"Stop Work"</span><span class='op'>)</span>
<span class='va'>b2</span><span class='op'>[</span><span class='fl'>19</span>,<span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"restaurant"</span>, <span class='st'>"Lunch at Restaurant"</span>, <span class='st'>"l"</span>, <span class='fl'>3</span>, <span class='st'>"At Restaurant"</span>, 
             <span class='st'>"Leave Restaurant"</span><span class='op'>)</span>
<span class='va'>b2</span><span class='op'>[</span><span class='fl'>20</span>,<span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"work2"</span>, <span class='st'>"PM Work"</span>, <span class='st'>"l"</span>, <span class='fl'>4</span>, <span class='st'>"Start Work.1"</span>, <span class='st'>"Stop Work.1"</span><span class='op'>)</span>
<span class='va'>b2</span><span class='op'>[</span><span class='fl'>21</span>,<span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"recreation1"</span>, <span class='st'>"First Recreation"</span>, <span class='st'>"l"</span>, <span class='fl'>5</span>, <span class='st'>"Start Recreation"</span>, 
             <span class='st'>"Stop Recreation"</span><span class='op'>)</span>
<span class='va'>b2</span><span class='op'>[</span><span class='fl'>22</span>,<span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"restaurant2"</span>, <span class='st'>"Dinner at Restaurant"</span>, <span class='st'>"l"</span>, <span class='fl'>6</span>, <span class='st'>"At Restaurant.1"</span>, 
             <span class='st'>"Leave Restaurant.1"</span><span class='op'>)</span>
<span class='va'>b2</span><span class='op'>[</span><span class='fl'>23</span>,<span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"recreation2"</span>, <span class='st'>"Second Recreation"</span>, <span class='st'>"l"</span>, <span class='fl'>7</span>, <span class='st'>"Start Recreation.1"</span>, 
             <span class='st'>"Stop Recreation.1"</span><span class='op'>)</span>
<span class='va'>b2</span><span class='op'>[</span><span class='fl'>24</span>,<span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"recreation3"</span>, <span class='st'>"Third Recreation"</span>, <span class='st'>"l"</span>, <span class='fl'>8</span>, <span class='st'>"Start Recreation.2"</span>, 
             <span class='st'>"Stop Recreation.2"</span><span class='op'>)</span>
<span class='va'>b2</span><span class='op'>$</span><span class='va'>showorder</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='cn'>NA</span>, <span class='cn'>NA</span>, <span class='cn'>NA</span>, <span class='cn'>NA</span>, <span class='cn'>NA</span>, <span class='cn'>NA</span>, <span class='cn'>NA</span>, <span class='cn'>NA</span>, <span class='cn'>NA</span>, <span class='cn'>NA</span>, <span class='cn'>NA</span>, <span class='cn'>NA</span>, <span class='cn'>NA</span>, <span class='cn'>NA</span>, <span class='cn'>NA</span>, 
                  <span class='cn'>NA</span>, <span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>3</span>, <span class='fl'>4</span>, <span class='fl'>5</span>, <span class='fl'>6</span>, <span class='fl'>7</span>, <span class='fl'>8</span><span class='op'>)</span> 
<span class='va'>b2</span> <span class='op'>&lt;-</span> <span class='va'>b2</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/order.html'>order</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='va'>b2</span><span class='op'>$</span><span class='va'>showorder</span><span class='op'>)</span><span class='op'>)</span>, <span class='op'>]</span>
</code></pre>
</div>
</details>
</div>
<h2 id="visielse-with-long-activities">ViSiElSe with Long
Activities</h2>
<p>The following ViSiElSe is plotted taking into account of
participants’ long actions:</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
show
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>v12</span> <span class='op'>&lt;-</span> <span class='fu'>visielse</span><span class='op'>(</span><span class='va'>log_21f</span>,
                book <span class='op'>=</span> <span class='va'>b1</span>, 
                informer <span class='op'>=</span> <span class='cn'>NULL</span>,
                pixel <span class='op'>=</span> <span class='fl'>60</span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
show
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>v12</span>,
     vp0w <span class='op'>=</span> <span class='fl'>0.7</span>, 
     unit.tps <span class='op'>=</span> <span class='st'>"min"</span>, 
     scal.unit.tps <span class='op'>=</span> <span class='fl'>60</span>, 
     main <span class='op'>=</span> <span class='st'>"Participant 21 on 1 Mar, 2022 (Education Low)"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="takehome4_files/figure-html5/with%20title%2021-1.png" width="624" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
show
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>v22</span> <span class='op'>&lt;-</span> <span class='fu'>visielse</span><span class='op'>(</span><span class='va'>log_14f</span>,
                book <span class='op'>=</span> <span class='va'>b2</span>, 
                informer <span class='op'>=</span> <span class='cn'>NULL</span>,
                pixel <span class='op'>=</span> <span class='fl'>60</span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
show
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>v22</span>,
     vp0w <span class='op'>=</span> <span class='fl'>0.7</span>, 
     unit.tps <span class='op'>=</span> <span class='st'>"min"</span>, 
     scal.unit.tps <span class='op'>=</span> <span class='fl'>60</span>, 
     main <span class='op'>=</span> <span class='st'>"Participant 14 on 1 Mar, 2022 (Education Graduate)"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="takehome4_files/figure-html5/with%20title%2014-1.png" width="624" /></p>
</div>
<p>From the above two plots, we can tell that one key difference of
these two participants’ day is that participant 14 went to restaurants
for both lunch and dinner while participant 21 only went to restaurant
for lunch. We can’t tell for sure where participant 21 had dinner from
the data.</p>
<h2 id="combine-both-routines">3.3 Combine Both Routines</h2>
<p>Given both participants’ daily activities are similar except dinner,
we bear this in mind and take out dinner for participant 14 in order to
plot both routines on one graph for better comparison.</p>
<p>The following code chunk take out dinner activity from visibook:
<em>Note: both participants’ daily routines are added in twice in
<code>log_both</code> so that <code>group</code> function can be used
when plotting ViSiElSe. It does not affect the accuracy of the plot as
weights are the same for both.</em></p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
show
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># remove dinner activity from dataset</span>
<span class='va'>log_14f1</span> <span class='op'>&lt;-</span> <span class='va'>log_14f</span> <span class='op'>%&gt;%</span>
  <span class='fu'>select</span><span class='op'>(</span><span class='op'>-</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>`At Restaurant.1`</span>, <span class='va'>`Leave Restaurant.1`</span><span class='op'>)</span><span class='op'>)</span> 

<span class='co'># combine both daily routine into one dataset</span>
<span class='co'># weight= 2 is added for both participants to allow for plotting visielse </span>
<span class='co'># group function </span>
<span class='va'>log_both</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>rbind</a></span><span class='op'>(</span><span class='va'>log_21f</span>, <span class='va'>log_14f1</span>, <span class='va'>log_21f</span>, <span class='va'>log_14f1</span><span class='op'>)</span> 

<span class='co'># rename id </span>
<span class='va'>log_both</span><span class='op'>[</span><span class='fl'>1</span>, <span class='fl'>1</span><span class='op'>]</span> <span class='op'>=</span> <span class='st'>'Participant 21'</span>
<span class='va'>log_both</span><span class='op'>[</span><span class='fl'>2</span>, <span class='fl'>1</span><span class='op'>]</span> <span class='op'>=</span> <span class='st'>'Participant 14'</span>
<span class='va'>log_both</span><span class='op'>[</span><span class='fl'>3</span>, <span class='fl'>1</span><span class='op'>]</span> <span class='op'>=</span> <span class='st'>'Participant 21'</span>
<span class='va'>log_both</span><span class='op'>[</span><span class='fl'>4</span>, <span class='fl'>1</span><span class='op'>]</span> <span class='op'>=</span> <span class='st'>'Participant 14'</span>
</code></pre>
</div>
</details>
</div>
<p>The following code chunk plots both participants’ routines on the
same graph:</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
show
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>g</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Participant 21 (Low)"</span>, <span class='st'>"Participant 14 (Graduate)"</span>, 
       <span class='st'>"Participant 21 (Low)"</span>, <span class='st'>"Participant 14 (Graduate)"</span><span class='op'>)</span>
<span class='va'>v3</span> <span class='op'>&lt;-</span> <span class='fu'>visielse</span><span class='op'>(</span><span class='va'>log_both</span>,
               group <span class='op'>=</span> <span class='va'>g</span>,
               book <span class='op'>=</span> <span class='va'>b1</span>, 
               informer <span class='op'>=</span> <span class='cn'>NULL</span>,
               pixel <span class='op'>=</span> <span class='fl'>60</span>,
               method <span class='op'>=</span> <span class='st'>'cut'</span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
show
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span><span class='va'>v3</span>,
     vp0w <span class='op'>=</span> <span class='fl'>0.7</span>, 
     unit.tps <span class='op'>=</span> <span class='st'>"min"</span>, 
     scal.unit.tps <span class='op'>=</span> <span class='fl'>60</span>, 
     main <span class='op'>=</span> <span class='st'>"Participant 21 and 14's Routines on 1 Mar, 2022"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="takehome4_files/figure-html5/both%20with%20title-1.png" width="960" data-distill-preview=1 /></p>
</div>
<h2 id="insights">Insights</h2>
<p>Recap on our target participants’ demographic:</p>
<ul>
<li><strong>Participant Id 21</strong>: household size 3, have kids, age
35, low education level, interest group E and joviality index of
0.931.</li>
<li><strong>Participant Id 14</strong>: household size 3, have kids, age
38, graduate education level, interest group H and joviality index of
0.930.</li>
</ul>
<p>From the above graph we are able to derive the following insights on
their routines:</p>
<ul>
<li>Participant 14 went to restaurant for both lunch and dinner while
participant 21 only went to restaurant for lunch. This could be random
or could also be due to the reason that participant 14 has a much higher
education level hence higher pay, and is willing to spend more on daily
expenses.</li>
<li>Participant 14 slept for a longer time than participant 21 did, for
about an additional 1.5hrs, although both slept after midnight.</li>
<li>Their working schedules and lunch breaks are quite different.
Participant 14 works for a longer time in the morning and a shorter time
in the afternoon, as a result, he/she also takes lunch at a later time
(around 2pm). On the other hand, participant 21 have a more balance
working schedule where his/her PM work is slightly longer than AM and
he/she took lunch at an earlier time, at around 12pm. Given that they
have very different education levels, it is natural that the nature of
their works are very different.</li>
<li>In terms of recreation, both participants took part in three
recreations on Mar 1, 2022 (Tue), and participant 14’s third recreation
started earlier than participant 14. As we extracted data for one day
only, we are not sure if both third recreation lasted beyond midnight.
The number of recreation activities are in line with their high
joviality indexes. In addition, as both participants have kids and are
in their 30s, their high number of daily recreation could be due to
family time with young kids as well.</li>
</ul>
<h1 id="learning-points">4. Learning Points</h1>
<p>In this take-home exercise, I was able to apply a lot of data
wrangling techniques in R while preparing the data to plot in
<code>ViSiElSe</code>. In addition, we were able to explore plotting
with <code>ViSiElSe</code>, especially by labeling and plotting long
activities using <code>ViSibook</code>. Given the time constraint, I
felt that the following could be explored further to better answer this
question:</p>
<ul>
<li>Other possible angles to approach this question is to look at daily
routines of participants with very low and very high joviality, or very
low and very high wage, or single and those with kids, or different age
groups, to examine the difference.<br />
</li>
<li>It would be more meaningful to look at daily routine over a longer
period of time, say at least for one month, to reveal the general
pattern of one’s life style and compare the differences. It would also
be interesting to look at one’s daily routine at the beginning and end
of the study (15 months), to see if there is any change in
routines.</li>
<li>Inspired by a classmate, the daily routines could also be plotted
out using <code>geom_segment()</code> and even add animation to it. I
would be very interested to try it out as well when I have spare time.
:)</li>
</ul>
<div class="sourceCode" id="cb8"><pre
class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
