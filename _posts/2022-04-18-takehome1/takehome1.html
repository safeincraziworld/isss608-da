<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { color: #00769e; background-color: #f1f3f5; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #00769e; } /* Normal */
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #657422; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #00769e; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #00769e; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #00769e; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
  <title>Take-Home Exercise 1</title>

  <meta property="description" itemprop="description" content="Creating data visualisation beyond default: an analysis on the demographic of the city of Engagement, Ohio USA (VAST Challenge 2022)."/>


  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2022-04-24"/>
  <meta property="article:created" itemprop="dateCreated" content="2022-04-24"/>
  <meta name="article:author" content="Leslie Long Nu"/>

  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="Take-Home Exercise 1"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="Creating data visualisation beyond default: an analysis on the demographic of the city of Engagement, Ohio USA (VAST Challenge 2022)."/>
  <meta property="og:locale" content="en_US"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="Take-Home Exercise 1"/>
  <meta property="twitter:description" content="Creating data visualisation beyond default: an analysis on the demographic of the city of Engagement, Ohio USA (VAST Challenge 2022)."/>

  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","preview","output"]}},"value":[{"type":"character","attributes":{},"value":["Take-Home Exercise 1"]},{"type":"character","attributes":{},"value":["Creating data visualisation beyond default: an analysis on the demographic of the city of Engagement, Ohio USA (VAST Challenge 2022). \n"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url","affiliation","affiliation_url"]}},"value":[{"type":"character","attributes":{},"value":["Leslie Long Nu"]},{"type":"character","attributes":{},"value":["https://www.linkedin.com/in/leslielongnu/"]},{"type":"character","attributes":{},"value":["School of Computing and Information Systems (SMU)"]},{"type":"character","attributes":{},"value":["https://scis.smu.edu.sg/"]}]}]},{"type":"character","attributes":{},"value":["Apr 24, 2022`"]},{"type":"NULL"},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","toc","toc_depth"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]},{"type":"integer","attributes":{},"value":[3]}]}]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["data/participants.rds","takehome1_files/anchor-4.2.2/anchor.min.js","takehome1_files/bowser-1.9.3/bowser.min.js","takehome1_files/distill-2.2.21/template.v2.js","takehome1_files/figure-html5/age barchart-1.png","takehome1_files/figure-html5/education barchart-1.png","takehome1_files/figure-html5/household age voilin-1.png","takehome1_files/figure-html5/household barchart-1.png","takehome1_files/figure-html5/income edu bg-1.png","takehome1_files/figure-html5/interest & education stack-1.png","takehome1_files/figure-html5/interest & education-1.png","takehome1_files/figure-html5/joviality agegroup raincloud-1.png","takehome1_files/figure-html5/joviality agegroup rainfall-1.png","takehome1_files/figure-html5/joviality interest ridge-1.png","takehome1_files/figure-html5/joviality vs income-1.png","takehome1_files/figure-html5/unnamed-chunk-1-1.png","takehome1_files/figure-html5/unnamed-chunk-3-1.png","takehome1_files/header-attrs-2.13.7/header-attrs.js","takehome1_files/jquery-3.6.0/jquery-3.6.0.js","takehome1_files/jquery-3.6.0/jquery-3.6.0.min.js","takehome1_files/jquery-3.6.0/jquery-3.6.0.min.map","takehome1_files/popper-2.6.0/popper.min.js","takehome1_files/tippy-6.2.7/tippy-bundle.umd.min.js","takehome1_files/tippy-6.2.7/tippy-light-border.css","takehome1_files/tippy-6.2.7/tippy.css","takehome1_files/tippy-6.2.7/tippy.umd.min.js","takehome1_files/webcomponents-2.0.0/webcomponents.js"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure img {
    width: 100%;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme
    $('code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        if ($(this).children()[0].nodeName == "D-FOOTNOTE") {
          var fn = $(this).children()[0]
          $(this).html(fn.shadowRoot.querySelector("sup"))
          $(this).id = fn.id
          fn.remove()
        }
        var refs = $(this).attr('data-cites').split(" ");
        var refHtml = refs.map(function(ref) {
          return "<p>" + $('#ref-' + ref).html() + "</p>";
        }).join("\n");
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="takehome1_files/header-attrs-2.13.7/header-attrs.js"></script>
  <script src="takehome1_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <script src="takehome1_files/popper-2.6.0/popper.min.js"></script>
  <link href="takehome1_files/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="takehome1_files/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="takehome1_files/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="takehome1_files/anchor-4.2.2/anchor.min.js"></script>
  <script src="takehome1_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="takehome1_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="takehome1_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Take-Home Exercise 1","description":"Creating data visualisation beyond default: an analysis on the demographic of the city of Engagement, Ohio USA (VAST Challenge 2022).","authors":[{"author":"Leslie Long Nu","authorURL":"https://www.linkedin.com/in/leslielongnu/","affiliation":"School of Computing and Information Systems (SMU)","affiliationURL":"https://scis.smu.edu.sg/","orcidID":""}],"publishedDate":"2022-04-24T00:00:00.000+08:00","citationText":"Nu, 2022"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Take-Home Exercise 1</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>Creating data visualisation beyond default: an analysis on the
demographic of the city of Engagement, Ohio USA (VAST Challenge
2022).</p></p>
</div>

<div class="d-byline">
  Leslie Long Nu <a href="https://www.linkedin.com/in/leslielongnu/"
class="uri">https://www.linkedin.com/in/leslielongnu/</a> (School of
Computing and Information Systems (SMU))<a
href="https://scis.smu.edu.sg/" class="uri">https://scis.smu.edu.sg/</a>
  
<br/>Apr 24, 2022`
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#overview">1. Overview</a>
<ul>
<li><a href="#introduction">1.1 Introduction</a></li>
<li><a href="#challenges-and-proposals">1.2 Challenges and
Proposals</a></li>
</ul></li>
<li><a href="#data-preparation">2. Data Preparation</a>
<ul>
<li><a href="#installation-and-launching-r-packages">2.1 Installation
and Launching R Packages</a></li>
<li><a href="#import-datasets">2.2 Import Datasets</a></li>
<li><a href="#data-wrangling">2.3 Data Wrangling</a></li>
<li><a href="#save-as-and-read-rds">2.4 Save as and Read RDS</a></li>
</ul></li>
<li><a href="#visualizations-and-insights">3. Visualizations and
Insights</a>
<ul>
<li><a href="#age-distribution-of-the-residents">3.1 Age Distribution of
the Residents</a></li>
<li><a href="#household-size-of-the-residents">3.2 Household Size of the
Residents</a></li>
<li><a href="#education-level-distribution">3.3 Education Level
Distribution</a></li>
<li><a href="#age-distribution-for-different-household-sizes">3.4 Age
Distribution for Different Household Sizes</a></li>
<li><a
href="#distribution-of-residents-interest-groups-and-education-levels">3.5
Distribution of Residents’ Interest Groups and Education Levels</a></li>
<li><a href="#joviality-distribution-for-different-interest-groups">3.6
Joviality Distribution for Different Interest Groups</a></li>
<li><a href="#joviality-versus-monthly-income">3.7 Joviality versus
Monthly Income</a></li>
<li><a href="#income-distribution-faceted-by-education-level">3.8 Income
Distribution Faceted by Education Level</a></li>
</ul></li>
<li><a href="#learning-points">4. Learning Points</a></li>
</ul>
</nav>
</div>
<h2 id="overview">1. Overview</h2>
<h3 id="introduction">1.1 Introduction</h3>
<p>In this take-home exercise, the demographic of the city of
Engagement, Ohio USA will be revealed by applying the skills learnt in
ISSS608 Visual Analytics Lesson 1 and Hands-on Exercise 1. It is assumed
that the volunteer participants are representative of the city’s
population.</p>
<p>The data used in this exercise is from <a
href="https://vast-challenge.github.io/2022/">VAST Challenge 2022</a>,
and processed by RStudio <code>tidyverse</code> family of packages and
visualized by <code>ggplot2</code> and its extensions.</p>
<h3 id="challenges-and-proposals">1.2 Challenges and Proposals</h3>
<p><strong>Challenge 1: Locate and Prepare Relevant Data</strong></p>
<p>One of the challenges faced in this take-home exercise is that the
dataset from VAST Challenge 2022 includes a considerable large number of
files, 88 in total, and it is challenging to locate all the demographic
related data. Upon review, while the participant file contains the
essential data on demographic of the city, such as age, education level,
family size and so on, it does not provide any data on residents’ income
level.</p>
<p>To include income information into the demographic reveal, data
wrangling is required to derive income data, either from the status logs
files -&gt; job ID -&gt; jobs file -&gt; hourly rate; or from the
financial journal -&gt; wage. Considering that, although working days
and hours are provided in jobs file, no information on public holidays,
vocations taken or leaves applied are provided, which could affect the
ultimate income as job pay is given in hourly rate instead of monthly
lump sump. Therefore, income data will be derived from financial journal
-&gt; wage as it represents the actual income received by the
residents.</p>
<p><strong>Challenge 2: Outliers</strong></p>
<p>From the financial journal, it is observed that the wage values range
widely. Thus, derived monthly income is likely to have outliers.
Outliers affect the clarity and effectiveness of distribution graphs,
such as scatter plots and boxplots, as the size of majority of the
distribution becomes trivial visually in the attempt to fit the outliers
on the graph.</p>
<p>In order to eliminate this problem, data should either be transformed
and plotted in percentiles, or the type of the plot must be chosen
carefully.</p>
<p><strong>Challenge 3: Variable Preparation</strong></p>
<p>The variables need to be prepared and checked properly for
visualization. For example, the age variable should be binned by
intervals, such as below 20, 20-24, …, to allow for a more holistic
understanding of the demographic representation. Another example is the
education level variable, as it is in character format, when plotted the
levels will be arranged alphabetically, first ‘Bachelor’, followed by
‘Graduate’, ‘High School or College’ and ‘Low’, which is not the logical
order that we are used to perceive education level. For issues like
this, manual adjustment using R code is required to produce a clear and
comprehensive graph.</p>
<p><strong>Challenge 4: Large Raw Data File</strong></p>
<p>The financial journal file used to derive income data is 80.7 MB,
larger than the 50 MB size limit set by GitHub. Therefore, the raw data
cannot be pushed to GitHub repository directly.</p>
<p>This is resolved by preparing the dataframe for visualization, and
then saving it in RDS format. The raw data is not pushed or commited
while only the saved RDS file is referenced for visualization, and
pushed to GitHub repository.</p>
<h2 id="data-preparation">2. Data Preparation</h2>
<h3 id="installation-and-launching-r-packages">2.1 Installation and
Launching R Packages</h3>
<p>The following code chunk installs the required R packages and loads
them onto RStudio environment.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>packages</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'tidyverse'</span>, <span class='st'>'readr'</span>, <span class='st'>'knitr'</span>, <span class='st'>'dplyr'</span>, <span class='st'>'ggdist'</span>, <span class='st'>'ggplot2'</span>, <span class='st'>'scales'</span>,
             <span class='st'>'forcats'</span>, <span class='st'>'grid'</span>, <span class='st'>'gridExtra'</span>, <span class='st'>'formattable'</span>, <span class='st'>'patchwork'</span>, <span class='st'>'ggridges'</span><span class='op'>)</span>
<span class='kw'>for</span><span class='op'>(</span><span class='va'>p</span> <span class='kw'>in</span> <span class='va'>packages</span><span class='op'>)</span><span class='op'>{</span>
  <span class='kw'>if</span><span class='op'>(</span><span class='op'>!</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='va'>p</span>, character.only <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>
    <span class='fu'><a href='https://rdrr.io/r/utils/install.packages.html'>install.packages</a></span><span class='op'>(</span><span class='va'>p</span><span class='op'>)</span>
  <span class='op'>}</span>
  <span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>p</span>, character.only <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span>
<span class='op'>}</span>
</code></pre>
</div>
</div>
<h3 id="import-datasets">2.2 Import Datasets</h3>
<p>The datasets used for this exercise are provided by <a
href="https://vast-challenge.github.io/2022/">VAST Challenge 2022</a>.
Data is imported using <code>read_csv()</code> of readr package, which
is useful for reading delimited files into tibbles.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>participants</span> <span class='op'>&lt;-</span> <span class='fu'>read_csv</span><span class='op'>(</span><span class='st'>'rawdata/Participants.csv'</span><span class='op'>)</span>
<span class='va'>financial</span> <span class='op'>&lt;-</span> <span class='fu'>read_csv</span><span class='op'>(</span><span class='st'>'rawdata/FinancialJournal.csv'</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>The following code chunk is used to have an overview of the
datasets.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>participants</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>financial</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h3 id="data-wrangling">2.3 Data Wrangling</h3>
<p>To find out the income level of the residents, residents’ monthly
income is derived by calculating the total sum of wage divided by 15.
The result is the average (mean) monthly income received by the
residents as the data ranges for 15 months.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>income</span> <span class='op'>&lt;-</span> <span class='va'>financial</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>category</span> <span class='op'>==</span> <span class='st'>'Wage'</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='co'># extract only wage data</span>
  <span class='fu'>select</span><span class='op'>(</span><span class='va'>participantId</span>, <span class='va'>amount</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='co'># extract participant ID and amount columns</span>
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>participantId</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='co'># group by participant ID</span>
  <span class='fu'>summarise</span><span class='op'>(</span>Monthly_Income <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>amount</span><span class='op'>)</span><span class='op'>/</span><span class='fl'>15</span><span class='op'>)</span> 
<span class='co'># calculate average monthly income for each participant</span>

<span class='co'># check the derived file income </span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>income</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>It is observed from <code>summary(income)</code> that the monthly
income’s variance is very high as it ranges from min value of 139.9 to
max value of 17369.0. It has outliers too as the mean and median values
are 3328.3 and 3668.5 respectively. This indicates that we need to
choose an appropriate form of data visualization, or transform the data
into percentiles so that the plot is not distorted by the outliers.
Income file is joined with participants file based on participant ID to
allow for comparison of all demographic variables. Inner join is used as
both data contain exactly 1011 entries and unique identifier of
participant ID ranging from 0 to 1010.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>participants</span> <span class='op'>&lt;-</span> <span class='fu'>inner_join</span><span class='op'>(</span>x<span class='op'>=</span> <span class='va'>participants</span>, y<span class='op'>=</span> <span class='va'>income</span>, by<span class='op'>=</span> <span class='st'>'participantId'</span><span class='op'>)</span>

<span class='co'># confirm tables are joined correctly</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>participants</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>The columns and values of participants file are renamed with below
code chunk for better formatting and ease of reading.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># rename columns</span>
<span class='va'>participants</span> <span class='op'>&lt;-</span> <span class='va'>participants</span> <span class='op'>%&gt;%</span>
  <span class='fu'>rename</span><span class='op'>(</span><span class='st'>'Participant_ID'</span> <span class='op'>=</span> <span class='st'>'participantId'</span>, 
         <span class='st'>'Household_Size'</span> <span class='op'>=</span> <span class='st'>'householdSize'</span>, 
         <span class='st'>'Have_Kids'</span> <span class='op'>=</span> <span class='st'>'haveKids'</span>, 
         <span class='st'>'Age'</span> <span class='op'>=</span> <span class='st'>'age'</span>, 
         <span class='st'>'Education_Level'</span> <span class='op'>=</span> <span class='st'>'educationLevel'</span>, 
         <span class='st'>'Interest_Group'</span> <span class='op'>=</span> <span class='st'>'interestGroup'</span>, 
         <span class='st'>'Joviality'</span> <span class='op'>=</span> <span class='st'>'joviality'</span><span class='op'>)</span>

<span class='co'># verify if the columns have been renamed correctly </span>
<span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span><span class='op'>(</span><span class='va'>participants</span><span class='op'>)</span>

<span class='co'>#rename value </span>
<span class='va'>participants</span><span class='op'>$</span><span class='va'>Education_Level</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>sub</a></span><span class='op'>(</span><span class='st'>'HighSchoolOrCollege'</span>, 
                                    <span class='st'>'High School or College'</span>,
                                    <span class='va'>participants</span><span class='op'>$</span><span class='va'>Education_Level</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Age variable is binned with the following code chunk:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># check min and max ages </span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>participants</span><span class='op'>$</span><span class='va'>Age</span><span class='op'>)</span>

<span class='co'># binning</span>

<span class='va'>brks</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>17</span>, <span class='fl'>20</span>, <span class='fl'>25</span>, <span class='fl'>30</span>, <span class='fl'>35</span>, <span class='fl'>40</span>, <span class='fl'>45</span>, <span class='fl'>50</span>, <span class='fl'>55</span>, <span class='fl'>60</span><span class='op'>)</span>
<span class='va'>grps</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'20 &amp; Below'</span>, <span class='st'>'21-25'</span>, <span class='st'>'26-30'</span>, <span class='st'>'31-35'</span>, <span class='st'>'36-40'</span>, <span class='st'>'41-45'</span>, 
          <span class='st'>'46-50'</span>, <span class='st'>'51-55'</span>, <span class='st'>'56-60'</span><span class='op'>)</span>

<span class='va'>participants</span><span class='op'>$</span><span class='va'>Age_Group</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/cut.html'>cut</a></span><span class='op'>(</span><span class='va'>participants</span><span class='op'>$</span><span class='va'>Age</span>, breaks<span class='op'>=</span><span class='va'>brks</span>, labels <span class='op'>=</span> <span class='va'>grps</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h3 id="save-as-and-read-rds">2.4 Save as and Read RDS</h3>
<p>Dataframe participants is saved and read in RDS format to avoid
uploading large files to Git.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/readRDS.html'>saveRDS</a></span><span class='op'>(</span><span class='va'>participants</span>, <span class='st'>'data/participants.rds'</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>participants</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/readRDS.html'>readRDS</a></span><span class='op'>(</span><span class='st'>'data/participants.rds'</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>participants</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 6 × 9
  Participant_ID Household_Size Have_Kids   Age Education_Level       
           &lt;dbl&gt;          &lt;dbl&gt; &lt;lgl&gt;     &lt;dbl&gt; &lt;chr&gt;                 
1              0              3 TRUE         36 High School or College
2              1              3 TRUE         25 High School or College
3              2              3 TRUE         35 High School or College
4              3              3 TRUE         21 High School or College
5              4              3 TRUE         43 Bachelors             
6              5              3 TRUE         32 High School or College
# … with 4 more variables: Interest_Group &lt;chr&gt;, Joviality &lt;dbl&gt;,
#   Monthly_Income &lt;dbl&gt;, Age_Group &lt;fct&gt;</code></pre>
</div>
<h2 id="visualizations-and-insights">3. Visualizations and Insights</h2>
<h3 id="age-distribution-of-the-residents">3.1 Age Distribution of the
Residents</h3>
<p>A bar chart was plotted using <code>ggplot2</code> on residents’ age
groups distribution as follows:</p>
<ul>
<li><code>geom_text()</code> is used to add annotations of the count and
% values of each age group</li>
<li><code>theme()</code> is used to remove the x axis ticks as it is
categorical scale.</li>
<li>Grids and background color are removed for a cleaner look as
annotations are included.</li>
</ul>
<p>From the bar chart it is observed that residents’ age distribution is
mostly even, with 20 &amp; Below as the smallest group (7.1%).</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>ggplot</span><span class='op'>(</span>data<span class='op'>=</span> <span class='va'>participants</span>, 
       <span class='fu'>aes</span><span class='op'>(</span>x<span class='op'>=</span> <span class='va'>Age_Group</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_bar</span><span class='op'>(</span>fill<span class='op'>=</span> <span class='st'>'#468499'</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/r/graphics/plot.window.html'>ylim</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>150</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_text</span><span class='op'>(</span>stat <span class='op'>=</span> <span class='st'>'count'</span>,
           <span class='fu'>aes</span><span class='op'>(</span>label<span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='fu'>stat</span><span class='op'>(</span><span class='va'>count</span><span class='op'>)</span>, <span class='st'>', '</span>, 
                             <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='fu'>stat</span><span class='op'>(</span><span class='va'>count</span><span class='op'>)</span><span class='op'>/</span><span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='fu'>stat</span><span class='op'>(</span><span class='va'>count</span><span class='op'>)</span><span class='op'>)</span><span class='op'>*</span><span class='fl'>100</span>, 
                             <span class='fl'>1</span><span class='op'>)</span>, <span class='st'>'%'</span><span class='op'>)</span><span class='op'>)</span>, vjust<span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.5</span>, size<span class='op'>=</span> <span class='fl'>2.5</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>labs</span><span class='op'>(</span>y<span class='op'>=</span> <span class='st'>'No. of\nResidents'</span>, title <span class='op'>=</span> <span class='st'>"Distribution of Residents' Age"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>theme</span><span class='op'>(</span>axis.title.y<span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>angle<span class='op'>=</span><span class='fl'>0</span><span class='op'>)</span>, axis.ticks.x<span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,
        panel.background<span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>, axis.line<span class='op'>=</span> <span class='fu'>element_line</span><span class='op'>(</span>color<span class='op'>=</span> <span class='st'>'grey'</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="takehome1_files/figure-html5/age%20barchart-1.png" width="624" /></p>
</div>
<h3 id="household-size-of-the-residents">3.2 Household Size of the
Residents</h3>
<p>The bar chart of household size indicates that there are no single
parent households in the city, as all households of size 2 have no
kids.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>ggplot</span><span class='op'>(</span>data<span class='op'>=</span> <span class='va'>participants</span>,
       <span class='fu'>aes</span><span class='op'>(</span>x<span class='op'>=</span> <span class='va'>Household_Size</span>,
           fill <span class='op'>=</span> <span class='va'>Have_Kids</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_bar</span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'><a href='https://rdrr.io/r/graphics/plot.window.html'>ylim</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>400</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_text</span><span class='op'>(</span>stat <span class='op'>=</span> <span class='st'>'count'</span>,
           <span class='fu'>aes</span><span class='op'>(</span>label<span class='op'>=</span> <span class='fu'>stat</span><span class='op'>(</span><span class='va'>count</span><span class='op'>)</span><span class='op'>)</span>, 
           vjust<span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.5</span>, 
           size<span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>labs</span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>'Household Size of the Residents'</span>, y<span class='op'>=</span> <span class='st'>'No of\nResidents'</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>theme</span><span class='op'>(</span>axis.title.y<span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>angle<span class='op'>=</span><span class='fl'>0</span><span class='op'>)</span>, 
        axis.ticks.x<span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,
        panel.background<span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>, 
        axis.line<span class='op'>=</span> <span class='fu'>element_line</span><span class='op'>(</span>color<span class='op'>=</span> <span class='st'>'grey'</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="takehome1_files/figure-html5/household%20barchart-1.png" width="624" /></p>
</div>
<h3 id="education-level-distribution">3.3 Education Level
Distribution</h3>
<p>Distribution of residents’ education level shows that more than half
of the residents are high school or college educated, followed by
bachelors, graduate and lastly low education levels.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>participants</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>Education<span class='op'>=</span> <span class='fu'>fct_infreq</span><span class='op'>(</span><span class='va'>Education_Level</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>x<span class='op'>=</span> <span class='va'>Education</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_bar</span><span class='op'>(</span>fill<span class='op'>=</span> <span class='st'>'#6897bb'</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_text</span><span class='op'>(</span>stat <span class='op'>=</span> <span class='st'>'count'</span>,
           <span class='fu'>aes</span><span class='op'>(</span>label<span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='fu'>stat</span><span class='op'>(</span><span class='va'>count</span><span class='op'>)</span>, <span class='st'>', '</span>, 
                             <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='fu'>stat</span><span class='op'>(</span><span class='va'>count</span><span class='op'>)</span><span class='op'>/</span><span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='fu'>stat</span><span class='op'>(</span><span class='va'>count</span><span class='op'>)</span><span class='op'>)</span><span class='op'>*</span><span class='fl'>100</span>, 
                             <span class='fl'>1</span><span class='op'>)</span>, <span class='st'>'%'</span><span class='op'>)</span><span class='op'>)</span>, vjust<span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.5</span>, size<span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>labs</span><span class='op'>(</span>y<span class='op'>=</span> <span class='st'>'No. of\nResidents'</span>, title <span class='op'>=</span> <span class='st'>"Distribution of Residents' Education Level"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>theme</span><span class='op'>(</span>axis.title.y<span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>angle<span class='op'>=</span><span class='fl'>0</span><span class='op'>)</span>, axis.ticks.x<span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,
        panel.background<span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>, axis.line<span class='op'>=</span> <span class='fu'>element_line</span><span class='op'>(</span>color<span class='op'>=</span> <span class='st'>'grey'</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="takehome1_files/figure-html5/education%20barchart-1.png" width="624" /></p>
</div>
<h3 id="age-distribution-for-different-household-sizes">3.4 Age
Distribution for Different Household Sizes</h3>
<p>Volin and boxplot of age distribution for different household sizes
are plotted as follows:</p>
<ul>
<li><code>scale= 'count'</code> is used for <code>geom_voilin()</code>
as it gives a true representation of the distribution because areas are
scaled proportionally to the number of observations.<br />
</li>
<li>mean age for each household size is added to compare with median age
shown in boxplot</li>
<li><code>as.factor(Household_Size)</code> is used as household size is
categorical</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>EduLevels</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'Low'</span>, <span class='st'>'High School or College'</span>, <span class='st'>'Bachelors'</span>, <span class='st'>'Graduate'</span><span class='op'>)</span>

<span class='fu'>ggplot</span><span class='op'>(</span>data<span class='op'>=</span><span class='va'>participants</span>,
       <span class='fu'>aes</span><span class='op'>(</span>x<span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.factor</a></span><span class='op'>(</span><span class='va'>Household_Size</span><span class='op'>)</span>, y<span class='op'>=</span> <span class='va'>Age</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_violin</span><span class='op'>(</span>fill<span class='op'>=</span> <span class='st'>'#66cdaa'</span>,
              scale <span class='op'>=</span> <span class='st'>'count'</span>,
              color<span class='op'>=</span> <span class='cn'>NA</span>,
              bw<span class='op'>=</span> <span class='fl'>0.4</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_boxplot</span><span class='op'>(</span>width<span class='op'>=</span> <span class='fl'>0.2</span>,
               color <span class='op'>=</span> <span class='st'>'#065535'</span>,
               alpha<span class='op'>=</span> <span class='fl'>0.3</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>stat_summary</span><span class='op'>(</span>geom<span class='op'>=</span> <span class='st'>'point'</span>,
               fun<span class='op'>=</span> <span class='st'>'mean'</span>,
               color<span class='op'>=</span> <span class='st'>'#ff7373'</span>,
               size<span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>facet_grid</span><span class='op'>(</span><span class='op'>~</span><span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>Education_Level</span>, levels <span class='op'>=</span> <span class='va'>EduLevels</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>labs</span><span class='op'>(</span>title<span class='op'>=</span> <span class='st'>'Age Distribution for Different Household Sizes'</span>, 
       x<span class='op'>=</span> <span class='st'>'Household Size'</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>theme</span><span class='op'>(</span>panel.background <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,
        axis.ticks.x <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,
        axis.line<span class='op'>=</span> <span class='fu'>element_line</span><span class='op'>(</span>color<span class='op'>=</span> <span class='st'>'grey'</span><span class='op'>)</span>,
        panel.grid.major.y <span class='op'>=</span> <span class='fu'>element_line</span><span class='op'>(</span>color<span class='op'>=</span> <span class='st'>'grey'</span>, size <span class='op'>=</span> <span class='fl'>0.1</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="takehome1_files/figure-html5/household%20age%20voilin-1.png" width="624" /></p>
</div>
<p>From the plot it can be observed:</p>
<ul>
<li>Highest average age is in household size 2 for low education
group.</li>
<li>Highest average age is in household size 1 for high school or
college education group.</li>
<li>Highest average age is in household size 2 for Low education
group.</li>
<li>Age distribution for households are similar across different sizes
for bachelors and graduate education group.</li>
</ul>
<h3
id="distribution-of-residents-interest-groups-and-education-levels">3.5
Distribution of Residents’ Interest Groups and Education Levels</h3>
<p>The distribution of both residents’ interest groups and education
levels are plotted as follows:</p>
<ul>
<li><code>patchwork</code> is used to stack two graphs together, one
showing the total size of the interest groups, another showing the
corresponding composition of education levels.</li>
<li>Interest groups (x axis) are ordered by number of residents in
descending order</li>
<li>x-axis label for the first graph is removed to avoid
redundancy.</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># plot p1: bar chart of interest group distribution in descending order</span>
<span class='va'>number</span> <span class='op'>&lt;-</span> 
  <span class='va'>participants</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>Interest<span class='op'>=</span> <span class='fu'>fct_infreq</span><span class='op'>(</span><span class='va'>Interest_Group</span><span class='op'>)</span><span class='op'>)</span> 

<span class='va'>p1</span> <span class='op'>&lt;-</span>  
  <span class='fu'>ggplot</span><span class='op'>(</span>data<span class='op'>=</span> <span class='va'>number</span>, <span class='fu'>aes</span><span class='op'>(</span>x<span class='op'>=</span> <span class='va'>Interest</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_bar</span><span class='op'>(</span>fill<span class='op'>=</span> <span class='st'>'#468499'</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>scale_y_continuous</span><span class='op'>(</span>expand <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.2</span>, <span class='fl'>0.2</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>labs</span><span class='op'>(</span>y<span class='op'>=</span> <span class='st'>'No. of\nResidents'</span>, 
       title <span class='op'>=</span> <span class='st'>"Total Number of Residents in Interest Groups"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>theme</span><span class='op'>(</span>axis.title.y<span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>angle<span class='op'>=</span><span class='fl'>0</span><span class='op'>)</span>, axis.ticks.x<span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,
        panel.background<span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>, axis.line<span class='op'>=</span> <span class='fu'>element_line</span><span class='op'>(</span>color<span class='op'>=</span> <span class='st'>'grey'</span><span class='op'>)</span>,
        panel.grid.major.y <span class='op'>=</span> <span class='fu'>element_line</span><span class='op'>(</span>size<span class='op'>=</span> <span class='fl'>0.2</span>, color <span class='op'>=</span> <span class='st'>"grey"</span><span class='op'>)</span>,
        axis.title.x <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,
        plot.title <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>hjust<span class='op'>=</span><span class='fl'>0.5</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># plot p2: composition of corresponding interest group in terms of education levels</span>
<span class='va'>int_lvl</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'J'</span>, <span class='st'>'H'</span>, <span class='st'>'G'</span>, <span class='st'>'F'</span>, <span class='st'>'A'</span>, <span class='st'>'C'</span>, <span class='st'>'D'</span>, <span class='st'>'I'</span>, <span class='st'>'B'</span>, <span class='st'>'E'</span><span class='op'>)</span>
<span class='va'>percent</span> <span class='op'>&lt;-</span> 
  <span class='va'>participants</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>Interest_Group</span>, <span class='va'>Education_Level</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>summarise</span><span class='op'>(</span>edu_size<span class='op'>=</span> <span class='fu'>n</span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>edu_pct<span class='op'>=</span> <span class='fu'>percent</span><span class='op'>(</span><span class='va'>edu_size</span><span class='op'>/</span><span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>edu_size</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> 
 
<span class='va'>p2</span><span class='op'>&lt;-</span> 
  <span class='fu'>ggplot</span><span class='op'>(</span>data<span class='op'>=</span> <span class='va'>percent</span>, 
         <span class='fu'>aes</span><span class='op'>(</span>x<span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>Interest_Group</span>, levels <span class='op'>=</span> <span class='va'>int_lvl</span><span class='op'>)</span>, y<span class='op'>=</span> <span class='va'>edu_pct</span>, 
             group<span class='op'>=</span> <span class='va'>Education_Level</span>, 
             color<span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>Education_Level</span>, levels <span class='op'>=</span> <span class='va'>EduLevels</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_line</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>scale_color_discrete</span><span class='op'>(</span>name<span class='op'>=</span> <span class='st'>'Education Level'</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>scale_y_continuous</span><span class='op'>(</span>labels <span class='op'>=</span> <span class='fu'>percent_format</span><span class='op'>(</span><span class='op'>)</span>,
                     expand <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.2</span>, <span class='fl'>0.2</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>labs</span><span class='op'>(</span>y<span class='op'>=</span> <span class='st'>'Percent'</span>, x<span class='op'>=</span> <span class='st'>'Interest Group'</span>, 
       title <span class='op'>=</span> <span class='st'>"Composition of Residents' Education Level in Interest Groups"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>theme</span><span class='op'>(</span>legend.position <span class='op'>=</span> <span class='st'>'top'</span>, legend.direction <span class='op'>=</span> <span class='st'>'horizontal'</span>,
        axis.title.y<span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>angle<span class='op'>=</span><span class='fl'>0</span><span class='op'>)</span>, axis.ticks.x<span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,
        panel.background<span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>, axis.line<span class='op'>=</span> <span class='fu'>element_line</span><span class='op'>(</span>color<span class='op'>=</span> <span class='st'>'grey'</span><span class='op'>)</span>,
        panel.grid.major <span class='op'>=</span> <span class='fu'>element_line</span><span class='op'>(</span>size<span class='op'>=</span> <span class='fl'>0.2</span>, color <span class='op'>=</span> <span class='st'>"grey"</span><span class='op'>)</span>,
        legend.key <span class='op'>=</span> <span class='fu'>element_rect</span><span class='op'>(</span>fill<span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>, legend.title <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>8.5</span><span class='op'>)</span>,
        plot.title <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>hjust<span class='op'>=</span><span class='fl'>0.5</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># use patchwork to stack 2 graphs </span>
<span class='va'>p1</span><span class='op'>/</span><span class='va'>p2</span>
</code></pre>
</div>
<p><img src="takehome1_files/figure-html5/interest%20&%20education%20stack-1.png" width="624" /></p>
</div>
<p>Distribution of residents’ interest groups shows that residents’
interests are fairly evenly distributed among the 10 interest groups,
with group J having the largest size, 116 residents and group E having
the smallest size, 83 residents. The education level composition of the
interest groups indicates:</p>
<ul>
<li>The most popular interest group among high school or college
education is group F and A.</li>
<li>The most popular interest group among bachelors is group J and H
followed closely by D.</li>
<li>The most popular interest group among graduates is group G.</li>
<li>The least popular interest group among low education level is group
D.</li>
</ul>
<h3 id="joviality-distribution-for-different-interest-groups">3.6
Joviality Distribution for Different Interest Groups</h3>
<p>The following plot is created to show the distribution of joviality
index for different interest groups using the half-eye plot. It
indicates the density plot (grey shade above) as well as the medians
(dots) and quantile intervals (line and shape below).</p>
<p>Its is observed from the plot that interest group E has the highest
median joviality index while interest group H has the lowest.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>ggplot</span><span class='op'>(</span><span class='va'>participants</span>, 
       <span class='fu'>aes</span><span class='op'>(</span>x<span class='op'>=</span> <span class='fu'>fct_rev</span><span class='op'>(</span><span class='va'>Interest_Group</span><span class='op'>)</span>, y<span class='op'>=</span> <span class='va'>Joviality</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>stat_halfeye</span><span class='op'>(</span>adjust <span class='op'>=</span> <span class='fl'>.35</span>,
               width <span class='op'>=</span> <span class='fl'>.6</span>,
               color <span class='op'>=</span> <span class='st'>'#20b2aa'</span>,
               justification <span class='op'>=</span> <span class='op'>-</span><span class='fl'>.15</span>,
               position <span class='op'>=</span> <span class='fu'>position_nudge</span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>.12</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>scale_x_discrete</span><span class='op'>(</span>expand<span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.1</span>, <span class='fl'>0.1</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_hline</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>yintercept <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span>,
             linetype<span class='op'>=</span> <span class='st'>'dashed'</span>,
             color<span class='op'>=</span> <span class='st'>'#f08080'</span>,
             size<span class='op'>=</span> <span class='fl'>.6</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>coord_flip</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>labs</span><span class='op'>(</span>x <span class='op'>=</span> <span class='st'>'Interest Group'</span>,
       title <span class='op'>=</span> <span class='st'>'Joviality Distribution in Different Interest Groups'</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>theme</span><span class='op'>(</span>panel.background<span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>, axis.line<span class='op'>=</span> <span class='fu'>element_line</span><span class='op'>(</span>color<span class='op'>=</span> <span class='st'>'grey'</span><span class='op'>)</span>,
        axis.ticks.y <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,
        panel.grid.major <span class='op'>=</span> <span class='fu'>element_line</span><span class='op'>(</span>size<span class='op'>=</span> <span class='fl'>0.2</span>, color <span class='op'>=</span> <span class='st'>"grey"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="takehome1_files/figure-html5/joviality%20interest%20ridge-1.png" width="624" /></p>
</div>
<h3 id="joviality-versus-monthly-income">3.7 Joviality versus Monthly
Income</h3>
<p>Joviality versus monthly income distribution is plotted with
following:</p>
<ul>
<li>Horizontal line of Joviality= 0.5 and vertical line of median income
is added for ease of interpretation. Median income instead of mean
income is used as mean value is affected by outliers in income
data.</li>
<li>Scatter points are plotted in gradient color scheme based on
joviality values. High joviality values are indicated in light green and
low joviality values are indicated in dark green.</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>ggplot</span><span class='op'>(</span>data<span class='op'>=</span> <span class='va'>participants</span>,
       <span class='fu'>aes</span><span class='op'>(</span>x<span class='op'>=</span> <span class='va'>Monthly_Income</span>, y<span class='op'>=</span> <span class='va'>Joviality</span>, color<span class='op'>=</span> <span class='va'>Joviality</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>scale_color_gradient</span><span class='op'>(</span>low<span class='op'>=</span> <span class='st'>'#133337'</span>, high <span class='op'>=</span> <span class='st'>'#a0db8e'</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_point</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>scale_x_continuous</span><span class='op'>(</span>breaks<span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fl'>5000</span>,<span class='fl'>10000</span>,<span class='fl'>15000</span><span class='op'>)</span>,
                     labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'0'</span>, <span class='st'>'5k'</span>, <span class='st'>'10k'</span>, <span class='st'>'15k'</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_vline</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/median.html'>median</a></span><span class='op'>(</span><span class='va'>Monthly_Income</span>,
                                     na.rm <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span><span class='op'>)</span>,
             color<span class='op'>=</span> <span class='st'>'red'</span>,
             linetype<span class='op'>=</span> <span class='st'>'dashed'</span>,
             size<span class='op'>=</span> <span class='fl'>.6</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_text</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/median.html'>median</a></span><span class='op'>(</span><span class='va'>Monthly_Income</span><span class='op'>)</span>, <span class='fl'>1</span>, 
                label<span class='op'>=</span> <span class='st'>'Median Monthly Income'</span>, hjust<span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.1</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_hline</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>yintercept <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span>,
             color<span class='op'>=</span> <span class='st'>'red'</span>,
             linetype<span class='op'>=</span> <span class='st'>'dashed'</span>,
             size<span class='op'>=</span> <span class='fl'>.6</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>labs</span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Joviality versus Monthly Income"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>theme</span><span class='op'>(</span>panel.background<span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>, axis.line<span class='op'>=</span> <span class='fu'>element_line</span><span class='op'>(</span>color<span class='op'>=</span> <span class='st'>'grey'</span><span class='op'>)</span>,
        panel.grid.major <span class='op'>=</span> <span class='fu'>element_line</span><span class='op'>(</span>size<span class='op'>=</span> <span class='fl'>0.2</span>, color <span class='op'>=</span> <span class='st'>"grey"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="takehome1_files/figure-html5/joviality%20vs%20income-1.png" width="624" /></p>
</div>
<p>This plot revealed that here is no positive correlation between
joviality and income level. In fact, some residents have very high
joviality index with low income, while majority of those with monthly
income higher than 10k have low joviality index.</p>
<h3 id="income-distribution-faceted-by-education-level">3.8 Income
Distribution Faceted by Education Level</h3>
<p>This plot is done with the following:</p>
<ul>
<li>Income distribution for each education level is plotted against the
overall income distribution in the background. This allows us to look at
the comparison of the overall trend versus that for each subset.</li>
<li>Mean and median monthly income lines are added to each facet.</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># prepare data for background fill</span>
<span class='va'>d</span> <span class='op'>&lt;-</span> <span class='va'>participants</span>
<span class='va'>d_bg</span> <span class='op'>&lt;-</span> <span class='va'>d</span><span class='op'>[</span>, <span class='op'>-</span><span class='fl'>5</span><span class='op'>]</span>

<span class='co'># prepare mean and median monthly income by different education levels</span>
<span class='va'>med_in</span> <span class='op'>&lt;-</span> <span class='va'>participants</span> <span class='op'>%&gt;%</span>
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>Education_Level</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>summarise</span><span class='op'>(</span>med_in <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/median.html'>median</a></span><span class='op'>(</span><span class='va'>Monthly_Income</span><span class='op'>)</span>,
            mean_in <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>Monthly_Income</span><span class='op'>)</span><span class='op'>)</span>
  
<span class='fu'>ggplot</span><span class='op'>(</span>data<span class='op'>=</span> <span class='va'>d</span>,
       <span class='fu'>aes</span><span class='op'>(</span>x<span class='op'>=</span> <span class='va'>Monthly_Income</span>, fill<span class='op'>=</span> <span class='va'>Education_Level</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_histogram</span><span class='op'>(</span>data<span class='op'>=</span> <span class='va'>d_bg</span>,
                 fill<span class='op'>=</span> <span class='st'>'grey'</span>,
                 alpha<span class='op'>=</span> <span class='fl'>.5</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_histogram</span><span class='op'>(</span>color<span class='op'>=</span> <span class='st'>'black'</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_vline</span><span class='op'>(</span>data<span class='op'>=</span> <span class='va'>med_in</span>,
             <span class='fu'>aes</span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='va'>med_in</span>, color<span class='op'>=</span> <span class='st'>'Median'</span><span class='op'>)</span>,
             linetype<span class='op'>=</span> <span class='st'>'dashed'</span>,
             size<span class='op'>=</span> <span class='fl'>.4</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_vline</span><span class='op'>(</span>data<span class='op'>=</span> <span class='va'>med_in</span>,
             <span class='fu'>aes</span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='va'>mean_in</span>, color<span class='op'>=</span> <span class='st'>'Mean'</span><span class='op'>)</span>,
             linetype<span class='op'>=</span> <span class='st'>'dashed'</span>,
             size<span class='op'>=</span> <span class='fl'>.4</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>scale_color_manual</span><span class='op'>(</span>name<span class='op'>=</span> <span class='st'>'Statistics'</span>, 
                     values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span>Median<span class='op'>=</span> <span class='st'>'dark blue'</span>, Mean<span class='op'>=</span> <span class='st'>'Red'</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>facet_wrap</span><span class='op'>(</span><span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>Education_Level</span>, levels <span class='op'>=</span> <span class='va'>EduLevels</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>guides</span><span class='op'>(</span>fill<span class='op'>=</span> <span class='st'>'none'</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>labs</span><span class='op'>(</span>y<span class='op'>=</span> <span class='st'>'No of Residents'</span>, 
       title <span class='op'>=</span> <span class='st'>'Monthly Income Distribution Faceted by Education Level'</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>theme_bw</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="takehome1_files/figure-html5/income%20edu%20bg-1.png" width="624" /></p>
</div>
<p>This plot indicates, unsurprisingly, that the income distribution is
higher for higher education levels. In addition, it is worth noting
that, the mean value is higher than median for higher education levels,
the opposite case for low education level, and almost the same for high
school or college education.</p>
<h2 id="learning-points">4. Learning Points</h2>
<p>This take-home exercise provides an excellent opportunity to get
familiarized with data preparation and data visualization using R
packages, especially using <code>tidyverse</code> and
<code>ggplot2</code> and their extensions. My key takeaways are:</p>
<ul>
<li>Whether using R or Tableau, variables must be prepared properly
before clear and meaningful visualizations can be built upon. The
principle of ‘Garbage in, garbage out.’ applies here as well. For
example, when exploring income distribution by different education
levels, income data must be grouped first by education levels to obtain
the mean and median income for each subset, to provide audience with a
better interpretation.</li>
<li>Plotting with <code>ggplot2</code> in R is highly customizable as it
is based on the grammar of graphics, which allows for numerous ways of
graphical composition as required. The more I used it, the more I
understand systematically how complicated graphics can be constructed
layer by layer.</li>
</ul>
<div class="sourceCode" id="cb2"><pre
class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
